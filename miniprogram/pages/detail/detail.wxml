<view class="detail-page">
  <!-- å•†å“å›¾ç‰‡è½®æ’­ -->
  <view class="image-swiper">
    <swiper class="swiper" indicator-dots="{{true}}" autoplay="{{false}}" interval="5000" duration="500">
      <swiper-item wx:for="{{goods.images}}" wx:key="*this">
        <image class="swiper-image" src="{{item}}" mode="aspectFill" />
      </swiper-item>
    </swiper>
  </view>

  <!-- å•†å“ä¿¡æ¯ -->
  <view class="goods-info">
    <!-- ä»·æ ¼å’Œæ”¶è— -->
    <view class="price-section">
      <view class="price">Â¥{{goods.price}}</view>
      <view class="favorite-btn {{isFavorite ? 'favorited' : ''}}" bindtap="onToggleFavorite">
        <text class="favorite-icon">{{isFavorite ? 'â¤ï¸' : 'ğŸ¤'}}</text>
        <text class="favorite-text">{{isFavorite ? 'å·²æ”¶è—' : 'æ”¶è—'}}</text>
      </view>
    </view>

    <!-- æ ‡é¢˜å’Œäº¤æ˜“ç±»å‹ -->
    <view class="title-section">
      <text class="goods-title">{{goods.title}}</text>
      <view class="transaction-tag {{goods.transactionType}}">
        {{goods.transactionType === 'cash' ? 'ğŸ’°ç°é‡‘' : goods.transactionType === 'swap' ? 'ğŸ”„æ¢ç‰©' : 'ğŸ’°ğŸ”„ç°é‡‘/æ¢ç‰©'}}
      </view>
    </view>

    <!-- æµè§ˆé‡ -->
    <view class="view-count">æµè§ˆ {{goods.viewCount || 0}} æ¬¡</view>
  </view>

  <!-- å–å®¶ä¿¡æ¯ -->
  <view class="seller-info">
    <view class="seller-header">
      <image class="seller-avatar" src="{{goods.user.avatar}}" />
      <view class="seller-details">
        <view class="seller-name">{{goods.user.nickname}}</view>
        <view class="seller-rating">
          <text class="rating-stars">â˜…â˜…â˜…â˜…â˜…</text>
          <text class="rating-score">4.8</text>
        </view>
      </view>
      <view class="seller-college">{{goods.user.college || 'æœªçŸ¥å­¦æ ¡'}}</view>
    </view>
  </view>

  <!-- å•†å“æè¿° -->
  <view class="description-section">
    <view class="section-title">å•†å“æè¿°</view>
    <view class="goods-description">{{goods.description}}</view>
  </view>

  <!-- æœŸæœ›æ¢ç‰©ï¼ˆå¦‚æœæ˜¯æ¢ç‰©äº¤æ˜“ï¼‰ -->
  <view class="swap-section" wx:if="{{goods.transactionType === 'swap' || goods.transactionType === 'both'}}">
    <view class="section-title">æœŸæœ›æ¢ç‰©</view>
    <view class="expected-swap">{{goods.expectedSwap}}</view>
  </view>

  <!-- å•†å“æ ‡ç­¾ -->
  <view class="tags-section" wx:if="{{goods.tag && goods.tag.length > 0}}">
    <view class="section-title">å•†å“æ ‡ç­¾</view>
    <view class="tags-list">
      <text class="tag" wx:for="{{goods.tag}}" wx:key="*this">{{item}}</text>
    </view>
  </view>

  <!-- åº•éƒ¨æ“ä½œæ  -->
  <view class="action-bar">
    <view class="action-left">
      <view class="action-btn chat-btn" bindtap="onChat">
        <text class="btn-icon">ğŸ’¬</text>
        <text class="btn-text">èŠå¤©</text>
      </view>
    </view>
    <view class="action-right">
      <view class="action-btn buy-btn" bindtap="onBuy" wx:if="{{goods.transactionType === 'cash' || goods.transactionType === 'both'}}">
        <text class="btn-text">ç«‹å³è´­ä¹°</text>
      </view>
      <view class="action-btn swap-btn" bindtap="onSwap" wx:if="{{goods.transactionType === 'swap' || goods.transactionType === 'both'}}">
        <text class="btn-text">å‘èµ·æ¢ç‰©</text>
      </view>
    </view>
  </view>
</view>