<view class="detail-page">

<!-- å–å®¶ä¿¡æ¯ -->
<view class="seller-card">
  <view class="seller-header">
    <image class="seller-avatar" src="{{goods.user.avatar}}" />
    <view class="seller-details">
      <text class="seller-name">{{goods.user.nickname}}</text>
      <view class="seller-rating">
        <text class="rating-stars">â˜…â˜…â˜…â˜…â˜…</text>
        <text class="rating-score">4.8</text>
      </view>
    </view>
    <text class="seller-college">{{goods.user.college || 'æœªçŸ¥å­¦æ ¡'}}</text>
  </view>
</view>

<!-- å•†å“ä¿¡æ¯å¡ç‰‡ -->
<view class="goods-card">
  <!-- ä»·æ ¼å’Œæ”¶è— -->
  <view class="price-section">
    <text class="price" style="position: relative; left: 0rpx; top: -29rpx; width: 233rpx; display: block; box-sizing: border-box">Â¥{{goods.price}}</text>
    <view class="favorite-btn {{isFavorite ? 'favorited' : ''}}" bindtap="onToggleFavorite">
      <text class="favorite-icon">{{isFavorite ? 'â¤ï¸' : 'ğŸ¤'}}</text>
      <text class="favorite-text">{{isFavorite ? 'å·²æ”¶è—' : 'æ”¶è—'}}</text>
    </view>
  </view>

  <!-- æ ‡é¢˜å’Œäº¤æ˜“ç±»å‹ -->
  <view class="title-section" style="position: relative; left: 0rpx; top: 266rpx">
    <text class="goods-title" style="position: relative; left: 0rpx; top: -310rpx">{{goods.title}}</text>
    <view class="transaction-tag {{goods.transactionType}}" style="position: relative; left: 431rpx; top: -68rpx; width: 224rpx; height: 70rpx; display: inline-block; box-sizing: border-box">
      {{goods.transactionType === 'cash' ? 'ğŸ’°ç°é‡‘' : goods.transactionType === 'swap' ? 'ğŸ”„æ¢ç‰©' : 'ğŸ’°ğŸ”„ç°é‡‘/æ¢ç‰©'}}
    </view>
  </view>

  <!-- å•†å“æè¿° -->
  <view class="description-card" style="position: relative; left: -8rpx; top: -137rpx">
    <text class="section-title">å•†å“æè¿°</text>
    <text class="goods-description">{{goods.description}}</text>
  </view>

  <!-- å•†å“å›¾ç‰‡è½®æ’­ -->
  <swiper class="swiper" indicator-dots="{{true}}" autoplay="{{false}}" interval="5000" duration="500">
    <swiper-item wx:for="{{goods.images}}" wx:key="*this">
      <image class="swiper-image" src="{{item}}" mode="aspectFill" />
    </swiper-item>
  </swiper>

  <!-- å•†å“æ ‡ç­¾ -->
  <view class="tags-card" wx:if="{{goods.tag && goods.tag.length > 0}}" style="position: relative; left: -8rpx; top: -779rpx; width: 424rpx; height: 129rpx; display: block; box-sizing: border-box">
    <text class="section-title" style="position: relative; left: 0rpx; top: -29rpx">å•†å“æ ‡ç­¾</text>
    <view class="tags-list" style="position: relative; left: 0rpx; top: -43rpx">
      <text class="tag" wx:for="{{goods.tag}}" wx:key="*this">{{item}}</text>
    </view>
  </view>

  <!-- æµè§ˆé‡ -->
  <text class="view-count" style="width: 147rpx; height: 27rpx; display: block; box-sizing: border-box; position: relative; left: 516rpx; top: -135rpx">æµè§ˆ {{goods.viewCount || 0}} æ¬¡</text>
</view>

<!-- æœŸæœ›æ¢ç‰© -->
<view class="swap-card" wx:if="{{goods.transactionType === 'swap' || goods.transactionType === 'both'}}">
  <text class="section-title">æœŸæœ›æ¢ç‰©</text>
  <text class="expected-swap">{{goods.expectedSwap}}</text>
</view>

<!-- åº•éƒ¨æ“ä½œæ  -->
<view class="action-bar">
  <view class="action-left">
    <button class="action-btn chat-btn" bindtap="onChat">
      <text class="btn-icon">ğŸ’¬</text>
      <text class="btn-text">èŠå¤©</text>
    </button>
  </view>
  <view class="action-right">
    <button class="action-btn buy-btn" bindtap="onBuy" wx:if="{{goods.transactionType === 'cash' || goods.transactionType === 'both'}}">
      <text class="btn-text">ç«‹å³è´­ä¹°</text>
    </button>
    <button class="action-btn swap-btn" bindtap="onSwap" wx:if="{{goods.transactionType === 'swap' || goods.transactionType === 'both'}}">
      <text class="btn-text">å‘èµ·æ¢ç‰©</text>
    </button>
  </view>
</view>
</view>