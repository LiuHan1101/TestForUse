<!--pages/me/me.wxml-->
<view class="me-page">
  <!-- ç”¨æˆ·ä¿¡æ¯å¤´éƒ¨ -->
  <view class="user-header" bindtap="onUserInfoTap">
  <view class="user-avatar-section">
    <image class="user-avatar" src="{{userInfo.avatar}}" mode="aspectFill"></image>
    <view class="verification-badge" wx:if="{{userInfo.isVerified}}">âœ“</view>
  </view>
  <view class="user-info">
    <view class="user-name">{{userInfo.nickname}}</view>
    <view class="user-college">{{userInfo.college}}</view>
    <view class="user-days">åŠ å…¥{{userInfo.joinDays}}å¤©</view>
    <!-- è°ƒè¯•ä¿¡æ¯ -->
    <view class="debug-info" wx:if="{{false}}"> <!-- è®¾ç½®ä¸º true å¯æ˜¾ç¤ºè°ƒè¯•ä¿¡æ¯ -->
      <text>avatar: {{userInfo.avatar}}</text>
      <text>nickname: {{userInfo.nickname}}</text>
    </view>
  </view>
  <view class="arrow" style="width: 68rpx; display: block; box-sizing: border-box; position: relative; left: 39rpx; top: 0rpx">â€º</view>
</view>

  <!-- æ•°æ®ç»Ÿè®¡ -->
  <view class="stats-section">
    <view class="stats-grid">
      <view class="stat-item" data-type="published" bindtap="onStatItemTap">
        <view class="stat-number">{{stats.published}}</view>
        <view class="stat-label">å·²å‘å¸ƒ</view>
      </view>
      <view class="stat-item" data-type="inProgress" bindtap="onStatItemTap">
        <view class="stat-number">{{stats.inProgress}}</view>
        <view class="stat-label">è¿›è¡Œä¸­</view>
      </view>
      <view class="stat-item" data-type="completed" bindtap="onStatItemTap">
        <view class="stat-number">{{stats.completed}}</view>
        <view class="stat-label">å·²æˆäº¤</view>
      </view>
      <view class="stat-item" data-type="favorites" bindtap="onStatItemTap">
        <view class="stat-number">{{stats.favorites}}</view>
        <view class="stat-label">æ”¶è—</view>
      </view>
    </view>
  </view>

  <!-- åŠŸèƒ½èœå• -->
  <view class="menu-section">
    <view class="menu-grid" style="width: 702rpx; height: 529rpx; display: flex; box-sizing: border-box">
      <view 
        class="menu-item" 
        wx:for="{{menuItems}}" 
        wx:key="index"
        data-index="{{index}}"
        bindtap="onMenuItemTap"
       style="position: relative; left: 15rpx; top: 6rpx; width: 687rpx; height: 175rpx; display: flex; box-sizing: border-box">
        <view class="menu-icon">{{item.icon}}</view>
        <view class="menu-title">{{item.title}}</view>
        <view class="menu-badge" wx:if="{{item.badge > 0}}">
          {{item.badge > 99 ? '99+' : item.badge}}
        </view>
        <view class="menu-arrow">â€º</view>
      </view>
    </view>
  </view>

  <!-- åº•éƒ¨æ“ä½œ -->
  <view class="action-section">
    <button class="share-btn" bindtap="onShareAppMessage" open-type="share" style="width: 333rpx; height: 81rpx; display: block; box-sizing: border-box; left: -6rpx; top: 16rpx; position: relative">
      ğŸ”— åˆ†äº«ç»™åŒå­¦
    </button>
    <view class="contact-support" bindtap="onContactCustomer">
      è”ç³»å®¢æœ Â· å¸®åŠ©ä¸­å¿ƒ
    </view>
    <view class="version-info">ä¸Šè´¢æ˜“ç‰© v1.0.0</view>
  </view>
</view>