<!--pages/me/me.wxml-->
<view class="me-page">
  <!-- ç”¨æˆ·ä¿¡æ¯å¤´éƒ¨ -->
  <view class="user-header" bindtap="onUserInfoTap">
  <view class="user-avatar-section">
    <image class="user-avatar" src="{{userInfo.avatar}}" mode="aspectFill"></image>
    <view class="verification-badge" wx:if="{{userInfo.isVerified}}">âœ“</view>
  </view>
  <view class="user-info">
    <view class="user-name">{{userInfo.nickname}}</view>
    <view class="user-college">{{userInfo.college}}</view>
    <view class="user-days">åŠ å…¥{{userInfo.joinDays}}å¤©</view>
    <!-- è°ƒè¯•ä¿¡æ¯ -->
    <view class="debug-info" wx:if="{{false}}"> <!-- è®¾ç½®ä¸º true å¯æ˜¾ç¤ºè°ƒè¯•ä¿¡æ¯ -->
      <text>avatar: {{userInfo.avatar}}</text>
      <text>nickname: {{userInfo.nickname}}</text>
    </view>
  </view>
  <view class="arrow">â€º</view>
</view>

  <!-- æ•°æ®ç»Ÿè®¡ -->
  <view class="stats-section">
    <view class="stats-grid">
      <view class="stat-item" data-type="selling" bindtap="onStatItemTap">
        <view class="stat-number">{{stats.selling}}</view>
        <view class="stat-label">åœ¨å”®</view>
      </view>
      <view class="stat-item" data-type="sold" bindtap="onStatItemTap">
        <view class="stat-number">{{stats.sold}}</view>
        <view class="stat-label">å·²å”®å‡º</view>
      </view>
      <view class="stat-item" data-type="bought" bindtap="onStatItemTap">
        <view class="stat-number">{{stats.bought}}</view>
        <view class="stat-label">å·²è´­ä¹°</view>
      </view>
      <view class="stat-item" data-type="swapped" bindtap="onStatItemTap">
        <view class="stat-number">{{stats.swapped}}</view>
        <view class="stat-label">å·²äº¤æ¢</view>
      </view>
    </view>
  </view>

  <!-- åŠŸèƒ½èœå• -->
  <view class="menu-section">
    <view class="menu-grid">
      <view 
        class="menu-item" 
        wx:for="{{menuItems}}" 
        wx:key="index"
        data-index="{{index}}"
        bindtap="onMenuItemTap"
      >
        <view class="menu-icon">{{item.icon}}</view>
        <view class="menu-title">{{item.title}}</view>
        <view class="menu-badge" wx:if="{{item.badge > 0}}">
          {{item.badge > 99 ? '99+' : item.badge}}
        </view>
        <view class="menu-arrow">â€º</view>
      </view>
    </view>
  </view>

  <!-- åº•éƒ¨æ“ä½œ -->
  <view class="action-section">
    <button class="share-btn" bindtap="onShareAppMessage" open-type="share">
      ğŸ”— åˆ†äº«ç»™åŒå­¦
    </button>
    <view class="contact-support" bindtap="onContactCustomer">
      è”ç³»å®¢æœ Â· å¸®åŠ©ä¸­å¿ƒ
    </view>
    <view class="version-info">ä¸Šè´¢æ˜“ç‰© v1.0.0</view>
  </view>
</view>