<view class="container">

<!-- 搜索栏 -->
<view class="search-bar">
  <view class="search-input" bindtap="onSearchTap">
    <text class="search-placeholder">搜索我的商品...</text>
  </view>
</view>

<!-- 商品列表 -->
<scroll-view class="goods-list" scroll-y>
  <view class="goods-container">
    <block wx:for="{{goodsList}}" wx:key="id">
      
      <!-- 商品项容器 -->
      <view class="goods-item-container">
        <!-- 商品内容 -->
        <view 
          class="goods-item-content"
          bindtap="onGoodsTap"
          data-id="{{item.id}}"
          data-index="{{index}}"
        >
          <image
            class="goods-image"
            src="{{item.image}}"
            mode="aspectFill"
            binderror="onImageError"
            data-index="{{index}}"
          />
          <view class="goods-info">
            <text class="goods-title">{{item.title}}</text>
            <text class="goods-description">{{item.description}}</text>
            <view class="goods-meta">
              <text class="goods-price">¥{{item.price}}</text>
              <text class="goods-time">{{item.createTime}}</text>
            </view>
            <view class="goods-tags">
              <text class="goods-tag">{{item.transactionType === 'cash' ? '现金' : item.transactionType === 'swap' ? '换物' : '均可'}}</text>
              <block wx:for="{{item.tag}}" wx:for-item="tag" wx:key="*this">
                <text class="goods-tag">{{tag}}</text>
              </block>
            </view>
          </view>
        </view>
        
        <!-- 右侧操作按钮区域 -->
        <view class="action-buttons-container">
          <block wx:if="{{type === 'published'}}">
            <view
              class="action-btn edit-btn"
              bindtap="onEditGoods"
              data-index="{{index}}"
            >
              <text class="btn-text">编辑</text>
            </view>
          </block>
          <view
            class="action-btn delete-btn"
            bindtap="onDeleteGoods"
            data-index="{{index}}"
          >
            <text class="btn-text">删除</text>
          </view>
        </view>
      </view>
      
    </block>
  </view>

  <!-- 空状态 -->
  <view wx:if="{{goodsList.length === 0 && !isLoading}}" class="empty-state">
    <text class="empty-text">暂无商品</text>
  </view>

  <!-- 加载状态 -->
  <view wx:if="{{isLoading}}" class="loading-state">
    <text class="loading-text">加载中...</text>
  </view>
</scroll-view>

</view>